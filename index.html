<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>摇钱树</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" type="text/css" href="css/idnex.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript">
    (function(t) {
        var doc = t.documentElement; //获取根元素的dom节点;

        var curDeviceWidth = doc.clientWidth || window.innerWidth; //拿到当前设备的宽度

        //动态的改变根元素字体大小：

        doc.style.fontSize = curDeviceWidth * (50 / 375) + 'px';
    })(document);
    </script>
</head>

<body>
    <div class="alert-first">
        <div class="next"></div>
    </div>
    <div class="header">
        <p>结束倒计时:<span id="header-text"></span></p>
    </div>
    <div class="bg">
        <img src="images/icon_rules.png" class="icon-rules">
        <p class="btn-l">剩余次数：<span>0次</span></p>
        <p class="btn-r">中奖记录</p>
        <img src="images/red_close.png" class="red-close red-close1">
        <img src="images/red_close.png" class="red-close red-close2">
        <img src="images/red_close.png" class="red-close red-close3">
        <img src="images/red_close.png" class="red-close red-close4">
        <img src="images/red_close.png" class="red-close red-close5">
        <img src="images/red_close.png" class="red-close red-close6">
        <img src="images/red_close.png" class="red-close red-close7">
        <img src="images/red_close.png" class="red-close red-close8">
        <img src="images/red_close.png" class="red-close red-close9">
        <img src="images/red_close.png" class="red-close red-close10">
        <img src="images/1.png" class="leaf leaf1">
        <img src="images/2.png" class="leaf leaf2">
        <img src="images/3.png" class="leaf leaf3">
        <img src="images/4.png" class="leaf leaf4">
        <div class="alert-rules">
            <div class="rules-box">
                <h1>活动规则</h1>
                <p>(1)用户每天可以免费抽奖一次，每消费满100元可再抽一次，没人每天最多可抽五次；</p>
                <p>(2)抽中后奖品会自动派发到您的账户中，请在【个人中心】我的红包或者个人余额进行查询；</p>
                <p>(3)红包派发后立即生效，有效期为7天，请及时使用</p>
            </div>
            <img src="images/x.png" class="close">
        </div>
        <div class="alert-red">
            <img src="images/red_close.png" class="alert-red-close">
            <div class="alert-red-open">
                <h2>恭喜您获得</h2>
                <h2>“神秘大礼包”</h2>
                <p class="btn-alert">领取</p>
            </div>
        </div>
        <img src="images/circle.png" class="circle">
    </div>
    <script type="text/javascript">
    // 初始化
    $('.alert-rules').hide();
    $('.alert-red').hide();
    $('.alert-red-close').hide();
    $('.alert-red-gif').hide();
    $('.alert-red-open').hide();
    $('.circle').hide();
    //倒计时
    (function() {
        function ShowCountDown(year, month, day, divname) {
            var now = new Date();
            var endDate = new Date(year, month - 1, day);
            var leftTime = endDate.getTime() - now.getTime();
            var leftsecond = parseInt(leftTime / 1000);
            var day1 = Math.floor(leftsecond / (60 * 60 * 24));
            var hour = Math.floor((leftsecond - day1 * 24 * 60 * 60) / 3600);
            var minute = Math.floor((leftsecond - day1 * 24 * 60 * 60 - hour * 3600) / 60);
            var second = Math.floor(leftsecond - day1 * 24 * 60 * 60 - hour * 3600 - minute * 60);
            var cc = document.getElementById(divname);
            cc.innerHTML = day1 + "天" + hour + "时" + minute + "分" + second + "秒";
            // cc.innerHTML = hour + ":" + minute + ":" + second;
        }
        setInterval(function() {
            ShowCountDown(2017, 8, 7, 'header-text');
        }, 1000);
    })();
    // 点击红包
    (function() {
        $('.red-close').each(function(i, e) {
            $(this).click(function() {
                $('.red-close').eq(i).addClass('cur');
                setTimeout(function() {
                    $('.alert-rules').hide();
                    $('.alert-red').show();
                    $('.alert-red-close').show();
                    $('.red-close').eq(i).hide().removeClass('cur');
                }, 3000)
            })
        })
        $('.alert-red-close').click(function() {
            $('.alert-red').css('background-color', 'rgba(0, 0, 0, .2)');
            $('.circle').show().addClass('click');
            setInterval(function() {
                $('.alert-red-close').hide();
                $('.alert-red-open').show();
                $('.circle').hide();
                $('.alert-red').css('background-color', 'rgba(0, 0, 0, .5)');
            }, 5000);
        });
        $('.alert-red-open').click(function() {
            console.log('后台你跳转到领取页面吧')
        });
    })();
    // 点击活动规则
    (function() {
        $('.icon-rules').click(function() {
            $('.alert-rules').show();
        })
    })();
    // 关闭
    (function() {
        $('.close').click(function() {
            $('.alert-rules').hide();
        })
    })();
    //中奖纪录
    (function() {
        $('.btn-r').click(function() {
            console.log('后台你跳转到中奖纪录吧')
        });
    })();
    // 首屏-我知道了
    (function() {
        $('.next').click(function() {
            $('.alert-first').hide()
        })
    })();
    </script>
</body>

</html>